<CampoValor@TextInput>:
    font_size: '16sp'
    bold: True
    multiline: False
    size_hint_x: None
    width: 200
    background_color: 0.20, 0.25, 0.33, 1
    foreground_color: 1, 1, 1, 1
    cursor_color: 1, 1, 1, 1
    padding: [10, 10, 5, 10]
    halign: 'right'

<TelaTransferencia>:
    name: 'transferencia'
    
    BoxLayout:
        orientation: 'vertical'
        padding: 8
        spacing: 8
        canvas:
            Color:
                rgba: 0.06, 0.09, 0.16, 1
            Rectangle:
                pos: self.pos
                size: self.size
        
        # Header
        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: 0.08
            spacing: 8
            
            Button:
                id: botao_voltar
                text: '< Voltar'  # ðŸ”¥ SETA ASCII SIMPLES
                size_hint_x: 0.25
                background_color: 0.55, 0.36, 0.96, 1
                color: 1, 1, 1, 1
                on_press: root.cancelar_transferencia()

            Label:
                text: 'TRANSFERÃŠNCIA INTERNACIONAL'
                font_size: '18sp'
                bold: True
                color: 1, 1, 1, 1
                size_hint_x: 0.6
                text_size: self.width, None
                halign: 'center'
            
            Widget:
                size_hint_x: 0.2
        
        # Container principal com scroll
        ScrollView:
            id: scroll_view_transferencia  # ðŸ”¥ ADICIONE ESTE ID
            size_hint_y: 0.82
            do_scroll_x: False
            
            BoxLayout:
                orientation: 'vertical'
                size_hint_y: None
                height: self.minimum_height
                spacing: 15
                padding: 10
                
                # CONTA DE ORIGEM
                BoxLayout:
                    orientation: 'vertical'
                    size_hint_y: None
                    height: 120
                    padding: 10
                    canvas:
                        Color:
                            rgba: 0.12, 0.16, 0.23, 1
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [8,]
                    
                    Label:
                        text: 'Conta de Origem *'
                        font_size: '15sp'
                        bold: True
                        color: 1, 1, 1, 1
                        size_hint_y: 0.3
                        text_size: self.width, None
                        halign: 'left'
                    
                    Spinner:
                        id: conta_origem
                        text: 'Selecione uma conta'
                        font_size: '13sp'
                        size_hint_y: 0.4
                        background_color: 0.20, 0.25, 0.33, 1
                        color: 1, 1, 1, 1
                        on_text: root.atualizar_info_conta()
                    
                    Label:
                        id: info_conta_label
                        text: 'Selecione uma conta para verificar o saldo'
                        font_size: '13sp'
                        color: 0.80, 0.84, 0.88, 1
                        size_hint_y: 0.3
                        text_size: self.width, None
                        halign: 'left'
                
                # BENEFICIÃRIO SALVO
                BoxLayout:
                    orientation: 'vertical'
                    size_hint_y: None
                    height: 80
                    padding: 10
                    canvas:
                        Color:
                            rgba: 0.12, 0.16, 0.23, 1
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [8,]
                    
                    Label:
                        text: 'SELECIONAR BENEFICIÃRIO SALVO'
                        font_size: '12sp'
                        bold: True
                        color: 0.23, 0.51, 0.96, 1
                        size_hint_y: 0.4
                        text_size: self.width, None
                        halign: 'left'
                    
                    Spinner:
                        id: combo_beneficiarios
                        text: ''
                        font_size: '11sp'
                        size_hint_y: 0.6
                        background_color: 0.20, 0.25, 0.33, 1
                        color: 1, 1, 1, 1
                        values: ['']
                
                # DADOS DO BENEFICIÃRIO
                BoxLayout:
                    orientation: 'vertical'
                    size_hint_y: None
                    height: 300
                    padding: 10
                    canvas:
                        Color:
                            rgba: 0.12, 0.16, 0.23, 1
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [8,]
                    
                    Label:
                        text: 'DADOS DO BENEFICIÃRIO'
                        font_size: '14sp'
                        bold: True
                        color: 0.23, 0.51, 0.96, 1
                        size_hint_y: 0.1
                        text_size: self.width, None
                        halign: 'left'
                    
                    GridLayout:
                        cols: 1
                        size_hint_y: 0.9
                        spacing: 8
                        
                        CampoTexto:
                            id: entry_beneficiario
                            hint_text: 'Nome Completo do BeneficiÃ¡rio *'
                        
                        CampoTexto:
                            id: entry_endereco
                            hint_text: 'EndereÃ§o Completo *'
                        
                        CampoTexto:
                            id: entry_cidade
                            hint_text: 'Cidade *'
                        
                        CampoTexto:
                            id: entry_pais
                            hint_text: 'PaÃ­s *'
                
                # DADOS DO BANCO
                BoxLayout:
                    orientation: 'vertical'
                    size_hint_y: None
                    height: 430  # ðŸ”¥ AUMENTEI A ALTURA de 350 para 430 (para caber os 2 novos campos)
                    padding: 10
                    canvas:
                        Color:
                            rgba: 0.12, 0.16, 0.23, 1
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [8,]
                    
                    Label:
                        text: 'DADOS DO BANCO DESTINATÃRIO'
                        font_size: '14sp'
                        bold: True
                        color: 0.23, 0.51, 0.96, 1
                        size_hint_y: 0.08  # ðŸ”¥ AJUSTEI de 0.1 para 0.08
                        text_size: self.width, None
                        halign: 'left'
                    
                    GridLayout:
                        cols: 1
                        size_hint_y: 0.92  # ðŸ”¥ AJUSTEI de 0.9 para 0.92
                        spacing: 8
                        
                        CampoTexto:
                            id: entry_banco
                            hint_text: 'Nome do Banco DestinatÃ¡rio *'
                        
                        CampoTexto:
                            id: endereco_banco
                            hint_text: 'EndereÃ§o do Banco'
                        
                        CampoTexto:
                            id: cidade_banco  # ðŸ”¥ NOVO CAMPO
                            hint_text: 'Cidade do Banco *'  # ðŸ”¥ ADICIONE O *
                        
                        CampoTexto:
                            id: pais_banco  # ðŸ”¥ NOVO CAMPO
                            hint_text: 'PaÃ­s do Banco *'  # ðŸ”¥ ADICIONE O *
                        
                        CampoTexto:
                            id: entry_swift
                            hint_text: 'CÃ³digo SWIFT/BIC *'
                        
                        CampoTexto:
                            id: entry_iban
                            hint_text: 'CÃ³digo IBAN / Account # *'
                        
                        CampoTexto:
                            id: entry_aba
                            hint_text: 'CÃ³digo ABA/Routing (se aplicÃ¡vel)'
                
                # SALVAR BENEFICIÃRIO
                BoxLayout:
                    orientation: 'horizontal'
                    size_hint_y: None
                    height: 50
                    padding: 10
                    spacing: 10
                    
                    CheckBox:
                        id: check_salvar_beneficiario
                        size_hint_x: 0.2
                        active: False
                    
                    Label:
                        text: 'Salvar este beneficiÃ¡rio para transferÃªncias futuras'
                        font_size: '18sp'
                        bold: True
                        color: 0.23, 0.51, 0.96, 1
                        text_size: self.width, None
                        halign: 'left'
                        valign: 'middle'
                
                # VALOR E INFORMAÃ‡Ã•ES
                BoxLayout:
                    orientation: 'vertical'
                    size_hint_y: None
                    height: 200
                    padding: 10
                    canvas:
                        Color:
                            rgba: 0.12, 0.16, 0.23, 1
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [8,]
                    
                    Label:
                        text: 'VALOR E INFORMAÃ‡Ã•ES'
                        font_size: '14sp'
                        bold: True
                        color: 0.23, 0.51, 0.96, 1
                        size_hint_y: 0.2
                        text_size: self.width, None
                        halign: 'left'
                    
                    BoxLayout:
                        orientation: 'horizontal'
                        size_hint_y: 0.3
                        spacing: 10
                        
                        Label:
                            id: moeda_label
                            text: 'USD'
                            font_size: '16sp'
                            bold: True
                            color: 0.23, 0.51, 0.96, 1
                            size_hint_x: 0.2
                            text_size: self.width, None
                            halign: 'center'
                            valign: 'middle'
                        
                        CampoValor:
                            id: entry_valor_transferencia
                            hint_text: '0.00'
                            font_size: '16sp'  # ðŸ”¥ Aumentei a fonte
                            multiline: False
                            size_hint_y: None  # ðŸ”¥ Mudei para None
                            height: '50dp'     # ðŸ”¥ Defini altura fixa
                            background_color: 0.20, 0.25, 0.33, 1
                            foreground_color: 1, 1, 1, 1
                            cursor_color: 1, 1, 1, 1
                            padding: [15, 12]  # ðŸ”¥ Aumentei o padding
                    
                    Label:
                        text: 'Digite apenas nÃºmeros. Ex: 123456 = 1,234.56'
                        font_size: '11sp'
                        color: 0.80, 0.84, 0.88, 1
                        size_hint_y: 0.1
                        text_size: self.width, None
                        halign: 'left'
                    
                    BoxLayout:
                        orientation: 'vertical'
                        size_hint_y: 0.4
                        spacing: 5
                        
                        Label:
                            text: 'Finalidade da TransferÃªncia *'
                            font_size: '13sp'
                            bold: True
                            color: 1, 1, 1, 1
                            size_hint_y: 0.3
                            text_size: self.width, None
                            halign: 'left'
                        
                        Spinner:
                            id: combo_finalidade
                            text: 'Pagamento de ServiÃ§os'
                            font_size: '13sp'
                            size_hint_y: 0.7
                            background_color: 0.20, 0.25, 0.33, 1
                            color: 1, 1, 1, 1
                            values: ['Pagamento de ServiÃ§os', 'Investimentos', 'ManutenÃ§Ã£o de Conta', 'DoaÃ§Ã£o', 'Presente', 'Outros']
                
                # DESCRIÃ‡ÃƒO
                BoxLayout:
                    orientation: 'vertical'
                    size_hint_y: None
                    height: 120
                    padding: 10
                    canvas:
                        Color:
                            rgba: 0.12, 0.16, 0.23, 1
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [8,]
                    
                    Label:
                        text: 'DescriÃ§Ã£o Adicional (opcional):'
                        font_size: '13sp'
                        bold: True
                        color: 1, 1, 1, 1
                        size_hint_y: 0.3
                        text_size: self.width, None
                        halign: 'left'
                    
                    TextInput:
                        id: text_descricao
                        hint_text: 'Digite uma descriÃ§Ã£o adicional...'
                        font_size: '13sp'
                        size_hint_y: 0.7
                        background_color: 0.20, 0.25, 0.33, 1
                        foreground_color: 1, 1, 1, 1
                        cursor_color: 1, 1, 1, 1
                        padding: [10, 10]
        
                # ðŸ”¥ SEÃ‡ÃƒO DE INVOICE - ADICIONAR APÃ“S A SEÃ‡ÃƒO "DESCRIÃ‡ÃƒO"
                BoxLayout:
                    orientation: 'vertical'
                    size_hint_y: None
                    height: 120
                    padding: 10
                    canvas:
                        Color:
                            rgba: 0.12, 0.16, 0.23, 1
                        RoundedRectangle:
                            pos: self.pos
                            size: self.size
                            radius: [8,]

                    Label:
                        text: 'ANEXAR INVOICE (OPCIONAL)'
                        font_size: '13sp'
                        bold: True
                        color: 0.23, 0.51, 0.96, 1
                        size_hint_y: 0.3
                        text_size: self.width, None
                        halign: 'left'

                    Button:
                        id: btn_upload_invoice
                        text: 'SELECIONAR INVOICE'
                        font_size: '13sp'
                        size_hint_y: 0.4
                        background_color: 0.20, 0.25, 0.33, 1
                        color: 1, 1, 1, 1
                        on_press: root.selecionar_invoice()

                    Label:
                        id: label_arquivo_invoice
                        text: 'Nenhum arquivo selecionado'
                        font_size: '11sp'
                        color: 0.80, 0.84, 0.88, 1
                        size_hint_y: 0.3
                        text_size: self.width, None
                        halign: 'center'


        # BOTÃ•ES
        BoxLayout:
            orientation: 'horizontal'
            size_hint_y: 0.1
            spacing: 10
            
            Button:
                text: 'CANCELAR'
                background_color: 0.55, 0.36, 0.96, 1
                color: 1, 1, 1, 1
                on_press: root.cancelar_transferencia()
            
            Button:
                text: 'SOLICITAR TRANSFERÃŠNCIA'
                background_color: 0.23, 0.51, 0.96, 1
                color: 1, 1, 1, 1
                on_press: root.solicitar_transferencia()

<CampoTexto@TextInput>:
    font_size: '11sp'
    multiline: False
    size_hint_y: None
    height: 40
    background_color: 0.20, 0.25, 0.33, 1
    foreground_color: 1, 1, 1, 1
    cursor_color: 1, 1, 1, 1
    padding: [10, 10]